{"remainingRequest":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desktop\\rent\\view\\src\\components\\StatusFlow.vue?vue&type=style&index=0&id=5e3cf670&scoped=true&lang=scss&","dependencies":[{"path":"D:\\desktop\\rent\\view\\src\\components\\StatusFlow.vue","mtime":1770970041175},{"path":"D:\\desktop\\rent\\view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1765027960330},{"path":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1765027965207},{"path":"D:\\desktop\\rent\\view\\node_modules\\postcss-loader\\src\\index.js","mtime":1765027962540},{"path":"D:\\desktop\\rent\\view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1765027958888},{"path":"D:\\desktop\\rent\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1765027958923},{"path":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\index.js","mtime":1765027963512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnN0YXR1cy1mbG93LWNvbnRhaW5lciB7DQogIHBhZGRpbmc6IDIwcHggMDsNCiAgYmFja2dyb3VuZDogI2ZmZjsNCiAgYm9yZGVyLXJhZGl1czogOHB4Ow0KICAvLyBib3gtc2hhZG93OiAwIDJweCAxMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjEpOw0KICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KDQogIC5zdGF0dXMtdGl0bGUgew0KICAgIGZvbnQtc2l6ZTogMTZweDsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgIGNvbG9yOiAjMzMzOw0KICAgIHBhZGRpbmctbGVmdDogMTBweDsNCiAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICM0MDllZmY7DQogIH0NCg0KICAuc3RhdHVzLXJlY29yZCB7DQogICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCg0KICAgICY6bGFzdC1jaGlsZCB7DQogICAgICBtYXJnaW4tYm90dG9tOiAwOw0KICAgIH0NCiAgfQ0KDQogIDo6di1kZWVwIHsNCiAgICAuZWwtc3RlcCB7DQogICAgICAmX19oZWFkIHsNCiAgICAgICAgJi5pcy1wcm9jZXNzIHsNCiAgICAgICAgICBjb2xvcjogIzQwOWVmZjsNCiAgICAgICAgICBib3JkZXItY29sb3I6ICM0MDllZmY7DQoNCiAgICAgICAgICAuZWwtc3RlcF9faWNvbiB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDY0LCAxNTgsIDI1NSwgMC4xKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAmLmlzLXN1Y2Nlc3Mgew0KICAgICAgICAgIGNvbG9yOiAjNjdjMjNhOw0KICAgICAgICAgIGJvcmRlci1jb2xvcjogIzY3YzIzYTsNCg0KICAgICAgICAgIC5lbC1zdGVwX19pY29uIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMTAzLCAxOTQsIDU4LCAwLjEpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgICYuaXMtZXJyb3Igew0KICAgICAgICAgIGNvbG9yOiAjZjU2YzZjOw0KICAgICAgICAgIGJvcmRlci1jb2xvcjogI2Y1NmM2YzsNCg0KICAgICAgICAgIC5lbC1zdGVwX19pY29uIHsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjQ1LCAxMDgsIDEwOCwgMC4xKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAmLmlzLXdhaXQgew0KICAgICAgICAgIGNvbG9yOiAjOTA5Mzk5Ow0KICAgICAgICAgIGJvcmRlci1jb2xvcjogIzkwOTM5OTsNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICAmX190aXRsZSB7DQogICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQoNCiAgICAgICAgJi5pcy1wcm9jZXNzIHsNCiAgICAgICAgICBjb2xvcjogIzQwOWVmZjsNCiAgICAgICAgfQ0KDQogICAgICAgICYuaXMtc3VjY2VzcyB7DQogICAgICAgICAgY29sb3I6ICM2N2MyM2E7DQogICAgICAgIH0NCg0KICAgICAgICAmLmlzLWVycm9yIHsNCiAgICAgICAgICBjb2xvcjogI2Y1NmM2YzsNCiAgICAgICAgfQ0KDQogICAgICAgICYuaXMtd2FpdCB7DQogICAgICAgICAgY29sb3I6ICM5MDkzOTk7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgJl9fZGVzY3JpcHRpb24gew0KICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICAgIGNvbG9yOiAjOTk5Ow0KICAgICAgfQ0KDQogICAgICAmX19saW5lIHsNCiAgICAgICAgbGVmdDogMTFweCAhaW1wb3J0YW50Ow0KICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoDQogICAgICAgICAgdG8gYm90dG9tLA0KICAgICAgICAgIHJnYmEoNjQsIDE1OCwgMjU1LCAwLjMpLA0KICAgICAgICAgIHJnYmEoMTAzLCAxOTQsIDU4LCAwLjMpDQogICAgICAgICkgIWltcG9ydGFudDsNCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["StatusFlow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"StatusFlow.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"status-flow-container\">\r\n    <div class=\"status-title\">预约状态流转记录</div>\r\n\r\n    <div v-if=\"statusRecords.length === 0\">\r\n      <el-empty description=\"暂无状态流转路径\"></el-empty>\r\n    </div>\r\n\r\n    <el-steps\r\n      direction=\"vertical\"\r\n      :active=\"activeStep\"\r\n      :process-status=\"processStatus\"\r\n      :space=\"100\"\r\n    >\r\n      <div\r\n        v-for=\"(record, index) in statusRecords\"\r\n        :key=\"'record-' + index\"\r\n        class=\"status-record\"\r\n      >\r\n        <el-step\r\n          :title=\"getStatusText(record.originStatus)\"\r\n          :description=\"formatTime(record.createTime)\"\r\n          :icon=\"getStatusIcon(record.originStatus)\"\r\n          :status=\"getStepStatus(record.originStatus)\"\r\n        ></el-step>\r\n\r\n        <el-step\r\n          :title=\"getStatusText(record.newId)\"\r\n          :description=\"formatTime(record.createTime)\"\r\n          :icon=\"getStatusIcon(record.newId)\"\r\n          :status=\"getStepStatus(record.newId)\"\r\n        ></el-step>\r\n      </div>\r\n    </el-steps>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    statusRecords: {\r\n      type: Array,\r\n      default: () => [],\r\n      validator: value => {\r\n        return value.every(\r\n          record =>\r\n            record.hasOwnProperty(\"originStatus\") &&\r\n            record.hasOwnProperty(\"newId\") &&\r\n            record.hasOwnProperty(\"createTime\")\r\n        );\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      statusConfig: {\r\n        1: {\r\n          text: \"预约中\",\r\n          icon: \"el-icon-time\",\r\n          color: \"#409EFF\",\r\n          status: \"process\"\r\n        },\r\n        2: {\r\n          text: \"已预约\",\r\n          icon: \"el-icon-success\",\r\n          color: \"#67C23A\",\r\n          status: \"success\"\r\n        },\r\n        3: {\r\n          text: \"预约失败\",\r\n          icon: \"el-icon-warning\",\r\n          color: \"#E6A23C\",\r\n          status: \"error\"\r\n        },\r\n        4: {\r\n          text: \"已取消\",\r\n          icon: \"el-icon-circle-close\",\r\n          color: \"#F56C6C\",\r\n          status: \"error\"\r\n        },\r\n        5: {\r\n          text: \"已完成\",\r\n          icon: \"el-icon-finished\",\r\n          color: \"#909399\",\r\n          status: \"success\"\r\n        }\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    activeStep() {\r\n      return this.statusRecords.length ? this.statusRecords.length * 2 - 1 : 0;\r\n    },\r\n    processStatus() {\r\n      if (!this.statusRecords.length) return \"wait\";\r\n      const lastStatus = this.statusRecords[this.statusRecords.length - 1]\r\n        .newId;\r\n      return this.getStepStatus(lastStatus);\r\n    }\r\n  },\r\n  methods: {\r\n    formatTime(time) {\r\n      if (!time) return \"--\";\r\n      try {\r\n        const date = new Date(time);\r\n        if (isNaN(date.getTime())) return \"无效日期\";\r\n\r\n        const pad = num => num.toString().padStart(2, \"0\");\r\n        return `${date.getFullYear()}-${pad(date.getMonth() + 1)}-${pad(\r\n          date.getDate()\r\n        )} ${pad(date.getHours())}:${pad(date.getMinutes())}`;\r\n      } catch (e) {\r\n        console.error(\"日期格式错误:\", e);\r\n        return \"无效日期\";\r\n      }\r\n    },\r\n\r\n    getStatusText(status) {\r\n      return (\r\n        (this.statusConfig[status] && this.statusConfig[status].text) ||\r\n        \"未知状态\"\r\n      );\r\n    },\r\n\r\n    getStatusIcon(status) {\r\n      return (\r\n        (this.statusConfig[status] && this.statusConfig[status].icon) ||\r\n        \"el-icon-info\"\r\n      );\r\n    },\r\n\r\n    getStatusColor(status) {\r\n      return (\r\n        (this.statusConfig[status] && this.statusConfig[status].color) ||\r\n        \"#909399\"\r\n      );\r\n    },\r\n\r\n    getStepStatus(status) {\r\n      return (\r\n        (this.statusConfig[status] && this.statusConfig[status].status) ||\r\n        \"wait\"\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.status-flow-container {\r\n  padding: 20px 0;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  // box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 20px;\r\n\r\n  .status-title {\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    margin-bottom: 20px;\r\n    color: #333;\r\n    padding-left: 10px;\r\n    border-left: 4px solid #409eff;\r\n  }\r\n\r\n  .status-record {\r\n    margin-bottom: 10px;\r\n\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  ::v-deep {\r\n    .el-step {\r\n      &__head {\r\n        &.is-process {\r\n          color: #409eff;\r\n          border-color: #409eff;\r\n\r\n          .el-step__icon {\r\n            background: rgba(64, 158, 255, 0.1);\r\n          }\r\n        }\r\n\r\n        &.is-success {\r\n          color: #67c23a;\r\n          border-color: #67c23a;\r\n\r\n          .el-step__icon {\r\n            background: rgba(103, 194, 58, 0.1);\r\n          }\r\n        }\r\n\r\n        &.is-error {\r\n          color: #f56c6c;\r\n          border-color: #f56c6c;\r\n\r\n          .el-step__icon {\r\n            background: rgba(245, 108, 108, 0.1);\r\n          }\r\n        }\r\n\r\n        &.is-wait {\r\n          color: #909399;\r\n          border-color: #909399;\r\n        }\r\n      }\r\n\r\n      &__title {\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n\r\n        &.is-process {\r\n          color: #409eff;\r\n        }\r\n\r\n        &.is-success {\r\n          color: #67c23a;\r\n        }\r\n\r\n        &.is-error {\r\n          color: #f56c6c;\r\n        }\r\n\r\n        &.is-wait {\r\n          color: #909399;\r\n        }\r\n      }\r\n\r\n      &__description {\r\n        font-size: 12px;\r\n        color: #999;\r\n      }\r\n\r\n      &__line {\r\n        left: 11px !important;\r\n        background: linear-gradient(\r\n          to bottom,\r\n          rgba(64, 158, 255, 0.3),\r\n          rgba(103, 194, 58, 0.3)\r\n        ) !important;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}