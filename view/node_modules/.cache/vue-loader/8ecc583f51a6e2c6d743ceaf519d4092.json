{"remainingRequest":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desktop\\rent\\view\\src\\views\\admin\\Home.vue?vue&type=style&index=0&id=a44c444e&scoped=true&lang=scss&","dependencies":[{"path":"D:\\desktop\\rent\\view\\src\\views\\admin\\Home.vue","mtime":1765360599832},{"path":"D:\\desktop\\rent\\view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1765027960330},{"path":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1765027965207},{"path":"D:\\desktop\\rent\\view\\node_modules\\postcss-loader\\src\\index.js","mtime":1765027962540},{"path":"D:\\desktop\\rent\\view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1765027958888},{"path":"D:\\desktop\\rent\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1765027958923},{"path":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\index.js","mtime":1765027963512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYWRtaW4tbGF5b3V0IHsKICBkaXNwbGF5OiBmbGV4OwogIGhlaWdodDogMTAwdmg7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1MCwgMjUwLCAyNTApOwoKICAuc2lkZWJhciB7CiAgICB3aWR0aDogMjA2cHg7CiAgICBtaW4td2lkdGg6IDYwcHg7CiAgICBoZWlnaHQ6IDEwMHZoOwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIHBhZGRpbmctdG9wOiAxMHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1MCwgMjUwLCAyNTApOwogICAgYmFja2dyb3VuZC1jb2xvcjogdi1iaW5kKG1lbnVCZ0NvbG9yKTsKICAgIHRyYW5zaXRpb246IHdpZHRoIDAuM3MgZWFzZTsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKCiAgICAubG9nby1jb250YWluZXIgewogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBwYWRkaW5nOiAwIDQwcHg7CiAgICAgIG1hcmdpbjogMTBweCAwOwogICAgfQogIH0KCiAgLmRyb3Bkb3duLWluZm8gewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGdhcDogNnB4OwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0OCwgMjQ4LCAyNDgpOwogICAgcGFkZGluZzogNHB4IDEwcHg7CiAgICBib3JkZXItcmFkaXVzOiAxMHB4OwoKICAgICY6aG92ZXIgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjM5LCAyNDAsIDI0MCk7CiAgICB9CgogICAgaW1nIHsKICAgICAgd2lkdGg6IDMwcHg7CiAgICAgIGhlaWdodDogMzBweDsKICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgfQoKICAgIHNwYW4gewogICAgICBmb250LXNpemU6IDE2cHg7CiAgICB9CiAgfQoKICAuY29udGVudC1hcmVhIHsKICAgIGZsZXg6IDE7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7CgogICAgLnRvcC1pbmZvIHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBwYWRkaW5nOiAyMHB4IDQwcHg7CgogICAgICAucG9pbnQtdGV4dCB7CiAgICAgICAgZm9udC1zaXplOiAyMnB4OwogICAgICB9CiAgICB9CgogICAgLnJvdXRlci12aWV3IHsKICAgICAgZmxleDogMTsKICAgICAgcGFkZGluZzogMCA2cHg7CiAgICAgIG92ZXJmbG93LXk6IGF1dG87CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <div class=\"admin-layout\">\n    <!-- 左侧导航菜单 - 菜单组件 -->\n    <aside class=\"sidebar\">\n      <Menu\n        @route-listener=\"route\"\n        :routes=\"adminRoutes\"\n        :bag=\"menuBgColor\"\n        @select=\"handleRouteSelect\"\n      />\n    </aside>\n    <!-- 右侧内容区域 -->\n    <main class=\"content-area\">\n      <div class=\"top-info\">\n        <div class=\"point-text\">{{ activeRoute.name }}</div>\n        <div class=\"user-info\">\n          <el-dropdown trigger=\"click\" placement=\"bottom-end\">\n            <span class=\"el-dropdown-link\">\n              <div class=\"dropdown-info\">\n                <img :src=\"userInfo.avatar\" />\n                <span>{{ userInfo.username }}</span>\n              </div>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item\n                @click.native=\"dialogPasswordVisible = true\"\n                icon=\"el-icon-view\"\n              >\n                修改密码\n              </el-dropdown-item>\n              <el-dropdown-item\n                @click.native=\"handleLoginOut\"\n                icon=\"el-icon-s-fold\"\n              >\n                退出登录\n              </el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n        </div>\n      </div>\n      <section class=\"router-view\">\n        <router-view></router-view>\n      </section>\n    </main>\n\n    <el-dialog\n      title=\"修改密码\"\n      :visible.sync=\"dialogPasswordVisible\"\n      :closeOnClickModal=\"false\"\n      width=\"35%\"\n    >\n      <UpdatePassword />\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { get } from \"@/utils/request\";\nimport router from \"@/router/index\";\nimport {\n  clearToken,\n  clearRole,\n  clearUserInfo,\n  setUserInfo\n} from \"@/utils/storage\";\nimport Menu from \"@/components/Menu.vue\";\nimport UpdatePassword from \"@/views/admin/UpdatePassword.vue\";\nimport LevelHeader from \"@/components/LevelHeader.vue\";\n\nexport default {\n  name: \"admin-layout\",\n  components: { LevelHeader, Menu, UpdatePassword },\n  data() {\n    return {\n      dialogPasswordVisible: false, // 退出登录弹窗开关\n      adminRoutes: [], // 管理员路由信息\n      userInfo: {}, // 用户信息\n      activeRoute: {},\n      logoColor: \"rgb(51,51,51)\", // Logo字体颜色\n      menuBgColor: \"rgb(250,250,250)\" // 功能导航栏背景色\n    };\n  },\n  created() {\n    this.loadAdminRoutes();\n    this.checkTokenAndLoadUser();\n    this.handleRouteSelect(\"/adminLayout\"); // 默认加载首页\n  },\n  methods: {\n    handleLoginOut() {\n      clearToken();\n      clearRole();\n      clearUserInfo();\n      this.$message.success(\"退出登录成功\");\n      this.$router.push(\"/login\");\n    },\n\n    // 路由切换\n    route(activeRoute) {\n      this.activeRoute = activeRoute;\n    },\n\n    // 路由跳转\n    handleRouteSelect(routePath) {\n      const route = this.adminRoutes.find(r => r.path === routePath);\n      if (route) {\n        if (this.$route.path !== routePath) {\n          this.activeRoute = { ...route };\n          this.$router.push(routePath);\n        }\n      }\n    },\n\n    // 加载管理员路由\n    loadAdminRoutes() {\n      const adminRoute = router.options.routes.find(r => r.path === \"/admin\");\n      this.adminRoutes = (adminRoute && adminRoute.children) || [];\n    },\n\n    // 检查用户登录状态 - 校验Token令牌\n    async checkTokenAndLoadUser() {\n      try {\n        const response = await get(\"user/auth\");\n\n        if (response.code === 400) {\n          this.$notify.error({\n            title: \"token校验异常\",\n            message: response.message,\n            duration: 2000\n          });\n          clearToken();\n          this.$router.push(\"/login\");\n        }\n\n        this.userInfo = response.data;\n\n        setUserInfo(this.userInfo); // 存储用户信息\n      } catch (error) {\n        console.error(\"token认证错误「Home.vue」:\", error);\n        this.$notify.error({\n          title: \"token校验异常,请重新登录\",\n          message: error.message,\n          duration: 2000\n        });\n        clearToken();\n        this.$router.push(\"/login\");\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.admin-layout {\n  display: flex;\n  height: 100vh;\n  width: 100%;\n  background-color: rgb(250, 250, 250);\n\n  .sidebar {\n    width: 206px;\n    min-width: 60px;\n    height: 100vh;\n    box-sizing: border-box;\n    padding-top: 10px;\n    background-color: rgb(250, 250, 250);\n    background-color: v-bind(menuBgColor);\n    transition: width 0.3s ease;\n    position: relative;\n\n    .logo-container {\n      display: flex;\n      align-items: center;\n      padding: 0 40px;\n      margin: 10px 0;\n    }\n  }\n\n  .dropdown-info {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 6px;\n    cursor: pointer;\n    background-color: rgb(248, 248, 248);\n    padding: 4px 10px;\n    border-radius: 10px;\n\n    &:hover {\n      background-color: rgb(239, 240, 240);\n    }\n\n    img {\n      width: 30px;\n      height: 30px;\n      border-radius: 50%;\n    }\n\n    span {\n      font-size: 16px;\n    }\n  }\n\n  .content-area {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    overflow: hidden;\n    background-color: rgb(255, 255, 255);\n\n    .top-info {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 20px 40px;\n\n      .point-text {\n        font-size: 22px;\n      }\n    }\n\n    .router-view {\n      flex: 1;\n      padding: 0 6px;\n      overflow-y: auto;\n    }\n  }\n}\n</style>\n"]}]}