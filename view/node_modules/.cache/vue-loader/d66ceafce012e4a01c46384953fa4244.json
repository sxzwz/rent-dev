{"remainingRequest":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desktop\\rent\\view\\src\\views\\user\\HouseDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\desktop\\rent\\view\\src\\views\\user\\HouseDetail.vue","mtime":1771038762373},{"path":"D:\\desktop\\rent\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1765027958923},{"path":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\index.js","mtime":1765027963512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRXZhbHVhdGlvbnMgZnJvbSAiQC9jb21wb25lbnRzL0V2YWx1YXRpb25zIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogeyBFdmFsdWF0aW9ucyB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBhY3RpdmVQYXRoOiAwLA0KICAgICAgZHJhd2VySG91c2VPcmRlcjogZmFsc2UsDQogICAgICBkaXJlY3Rpb246ICJydGwiLA0KICAgICAgc3RhcnRUaW1lOiAwLA0KICAgICAgaGFzUmVjb3JkZWQ6IGZhbHNlLCAvLyDpmLLmraLph43lpI3orrDlvZUNCiAgICAgIGluZGV4Q292ZXI6IG51bGwsDQogICAgICBob3VzZUlkOiBudWxsLA0KICAgICAgaG91c2U6IHt9LA0KICAgICAgY292ZXJMaXN0OiBbXSwNCiAgICAgIGhvdXNlTGl2aW5nRmFjaWxpdHlMaXN0OiB7fSwNCiAgICAgIGN1cnJlbnRJbWFnZUluZGV4OiAwLA0KICAgICAgdXNlcklkOiBudWxsLA0KICAgICAgYXZhdGFyOiAiIiwNCiAgICAgIHNhdmVMaXN0OiBbXSwgLy8g55So5oi35pS26JeP5oOF5Ya1DQogICAgICBkYXRlT3JkZXJTcGxpdExpc3Q6IFtdLA0KICAgICAgZGVmYXVsdFNlbGVjdERheXM6IDE1LA0KICAgICAgZGF0ZU9yZGVyTGlzdDogW10sDQogICAgICBzZWxjdGVkRGF0ZUl0ZW06IG51bGwsDQogICAgICBzZWxjdGVkRGF0ZVNwbGl0SXRlbTogbnVsbCwNCiAgICAgIGhvdXNlT3JkZXJFdmFsdWF0aW9uczogW10sDQogICAgICBsYW5kbG9yZEhvdXNlTGlzdDogW10sDQogICAgICBkaXJlY3Rpb25MYW5kbG9yZEhvdXNlTGlzdDogInJ0bCIsIC8vIOaIv+S4nOWQjeS4i+aIv+a6kOaYvuekuuaKveWxieaWueWQkQ0KICAgICAgZHJhd2VyTGFuZGxvcmRIb3VzZUxpc3Q6IGZhbHNlDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldFBhdGhJZCgpOw0KICAgIHRoaXMuZmV0Y2hVc2VySW5mbygpOw0KICAgIHRoaXMuZmV0Y2hGdXR1cmVEYXRlKHRoaXMuZGVmYXVsdFNlbGVjdERheXMpOw0KICAgIHRoaXMuZmV0Y2hGdXR1cmVEYXRlU3BsaXQoKTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpOyAvLyDmm7Tnsr7noa7nmoTpq5jnsr7luqbml7bpl7QNCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIiwgdGhpcy5oYW5kbGVQYWdlTGVhdmUpOw0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJiZWZvcmV1bmxvYWQiLCB0aGlzLmhhbmRsZVBhZ2VMZWF2ZSk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVMYW5kbG9yZEhvdXNlQ2xvc2UoKSB7DQogICAgICB0aGlzLmRyYXdlckxhbmRsb3JkSG91c2VMaXN0ID0gZmFsc2U7DQogICAgfSwNCiAgICAvLyDot7Povazoh7PmiL/lsYvor6bmg4XpobUNCiAgICBob3VzZUl0ZW1DbGljayhpZCkgew0KICAgICAgd2luZG93Lm9wZW4oYC9ob3VzZS1kZXRhaWw/aWQ9JHtpZH1gLCAiX2JsYW5rIik7DQogICAgfSwNCiAgICBhc3luYyBmZXRjaExhbmRsb3JkSG91c2VMaXN0KCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KGAvaG91c2UvbGlzdFVzZXJgLCB7DQogICAgICAgICAgbGFuZGxvcmRJZDogdGhpcy5ob3VzZS5sYW5kbG9yZElkDQogICAgICAgIH0pOw0KICAgICAgICB0aGlzLmxhbmRsb3JkSG91c2VMaXN0ID0gZGF0YTsNCiAgICAgICAgdGhpcy5kcmF3ZXJMYW5kbG9yZEhvdXNlTGlzdCA9IHRydWU7DQogICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbyhlLm1lc3NhZ2UpOw0KICAgICAgICBjb25zb2xlLmVycm9yKCLpooTnuqbnnIvmiL/lpLHotKU6IiwgZSk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDot7PovazlsI/ljLror6bmg4XpobUNCiAgICBjb21tdW5pdHlJbmZvKGhvdXNlKSB7DQogICAgICB3aW5kb3cub3BlbihgL2NvbW11bml0eS1kZXRhaWw/aWQ9JHtob3VzZS5jb21tdW5pdHlJZH1gKTsNCiAgICB9LA0KICAgIGFzeW5jIGhhbmRsZUNvbmZpcm1PcmRlcigpIHsNCiAgICAgIGlmICh0aGlzLnNlbGN0ZWREYXRlSXRlbSA9PT0gbnVsbCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oIuivt+mAieS4reaXpeacnyIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICBpZiAodGhpcy5zZWxjdGVkRGF0ZVNwbGl0SXRlbSA9PT0gbnVsbCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oIuivt+mAieS4remihOe6puaXtumXtOautSIpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCBob3VzZU9yZGVySW5mbyA9IHsNCiAgICAgICAgICBvcmRlckRhdGU6IHRoaXMuc2VsY3RlZERhdGVJdGVtLA0KICAgICAgICAgIG9yZGVyVGltZVNwbGl0OiB0aGlzLnNlbGN0ZWREYXRlU3BsaXRJdGVtLmxhYmVsLA0KICAgICAgICAgIGhvdXNlSWQ6IHRoaXMuaG91c2VJZA0KICAgICAgICB9Ow0KICAgICAgICBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KGAvaG91c2Utb3JkZXItaW5mby9zYXZlYCwgaG91c2VPcmRlckluZm8pOw0KICAgICAgICB0aGlzLiRtZXNzYWdlKCLpooTnuqbnnIvmiL/miJDlip8iKTsNCiAgICAgICAgdGhpcy5oYW5kbGVDbG9zZSgpOw0KICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oZS5tZXNzYWdlKTsNCiAgICAgICAgY29uc29sZS5lcnJvcigi6aKE57qm55yL5oi/5aSx6LSlOiIsIGUpOw0KICAgICAgfQ0KICAgIH0sDQogICAgZGF0ZVNlbGVjdGVkKGRhdGUpIHsNCiAgICAgIHRoaXMuc2VsY3RlZERhdGVJdGVtID0gZGF0ZTsNCiAgICB9LA0KICAgIGRhdGVTcGxpdFNlbGVjdGVkKGRhdGUpIHsNCiAgICAgIHRoaXMuc2VsY3RlZERhdGVTcGxpdEl0ZW0gPSBkYXRlOw0KICAgIH0sDQogICAgbGFzdCgpIHsNCiAgICAgIGlmICh0aGlzLmFjdGl2ZVBhdGgtLSA8PSAwKSB0aGlzLmFjdGl2ZVBhdGggPSAxOw0KICAgIH0sDQogICAgbmV4dCgpIHsNCiAgICAgIGlmICh0aGlzLmFjdGl2ZVBhdGgrKyA+PSAxKSB0aGlzLmFjdGl2ZVBhdGggPSAwOw0KICAgIH0sDQogICAgaGFuZGxlQ2xvc2UoKSB7DQogICAgICB0aGlzLmRyYXdlckhvdXNlT3JkZXIgPSBmYWxzZTsNCiAgICAgIHRoaXMuc2VsY3RlZERhdGVJdGVtID0gbnVsbDsNCiAgICAgIHRoaXMuc2VsY3RlZERhdGVTcGxpdEl0ZW0gPSBudWxsOw0KICAgIH0sDQogICAgaGFuZGxlUGFnZUxlYXZlKCkgew0KICAgICAgaWYgKHRoaXMuaGFzUmVjb3JkZWQpIHJldHVybjsNCg0KICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpOw0KICAgICAgY29uc3Qgc3RheVRpbWUgPSBNYXRoLmZsb29yKGVuZFRpbWUgLSB0aGlzLnN0YXJ0VGltZSk7DQoNCiAgICAgIHRoaXMuaGFzUmVjb3JkZWQgPSB0cnVlOw0KDQogICAgICB0aGlzLnNlbmRTdGF5VGltZShzdGF5VGltZSk7DQogICAgfSwNCiAgICBhc3luYyBmZXRjaEZ1dHVyZURhdGUoZGF5cykgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoYC9ob3VzZS1vcmRlci1pbmZvLyR7ZGF5c31gKTsNCiAgICAgICAgdGhpcy5kYXRlT3JkZXJMaXN0ID0gZGF0YTsNCiAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcigi5p+l6K+i6aKE57qm5pel5pyf5aSx6LSlOiIsIGUpOw0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g5p+l6K+i5pyN5Yqh6K+E5Lu3DQogICAgYXN5bmMgZmV0Y2hIb3VzZU9yZGVyRXZhbHVhdGlvbnMoaWQpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy4kYXhpb3MuZ2V0KA0KICAgICAgICAgIGAvaG91c2Utb3JkZXItZXZhbHVhdGlvbnMvaG91c2VMaXN0LyR7aWR9YA0KICAgICAgICApOw0KICAgICAgICB0aGlzLmhvdXNlT3JkZXJFdmFsdWF0aW9ucyA9IGRhdGE7DQogICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgIGNvbnNvbGUuZXJyb3IoIuafpeivoumihOe6pueci+aIv+acjeWKoeivhOS7t+Wksei0pToiLCBlKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGZldGNoRnV0dXJlRGF0ZVNwbGl0KCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoYC9ob3VzZS1vcmRlci1pbmZvL3NwbGl0YCk7DQogICAgICAgIHRoaXMuZGF0ZU9yZGVyU3BsaXRMaXN0ID0gZGF0YTsNCiAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgY29uc29sZS5lcnJvcigi5p+l6K+i6aKE57qm5pel5pyf5pe26Ze05q615aSx6LSlOiIsIGUpOw0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgc2VuZFN0YXlUaW1lKGR1cmF0aW9uKSB7DQogICAgICB0cnkgew0KICAgICAgICBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KCIvZmxvdy1pbmRleC9zdGF5T3BlcmF0aW9uIiwgew0KICAgICAgICAgIGNvbnRlbnRJZDogdGhpcy5ob3VzZUlkLA0KICAgICAgICAgIHRpbWVzOiBkdXJhdGlvbiwNCiAgICAgICAgICBjb250ZW50VHlwZTogIkhPVVNFX0lORk8iDQogICAgICAgIH0pOw0KICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICBjb25zb2xlLmVycm9yKCLorrDlvZXlgZznlZnml7bpl7TlpLHotKU6IiwgZSk7DQogICAgICB9DQogICAgfSwNCiAgICBnZXRQYXRoSWQoKSB7DQogICAgICB0aGlzLmhvdXNlSWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsNCiAgICAgIHRoaXMuZmV0Y2hIb3VzZUluZm8odGhpcy5ob3VzZUlkKTsNCiAgICAgIHRoaXMucmVjb3JkVmlld09wZXJhdGlvbih0aGlzLmhvdXNlSWQpOw0KICAgICAgdGhpcy5yZWNvcmRTYXZlU3RhdHVzKHRoaXMuaG91c2VJZCk7DQogICAgICB0aGlzLmZldGNoSG91c2VPcmRlckV2YWx1YXRpb25zKHRoaXMuaG91c2VJZCk7DQogICAgfSwNCiAgICAvLyDmn6Xor6LnlKjmiLflr7nkuo7lhoXlrrnnmoTmlLbol4/mg4XlhrUNCiAgICBhc3luYyByZWNvcmRTYXZlU3RhdHVzKGlkKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCBmbG93SW5kZXhRdWVyeUR0byA9IHsNCiAgICAgICAgICBjb250ZW50SWQ6IGlkLA0KICAgICAgICAgIGNvbnRlbnRUeXBlOiAiSE9VU0VfSU5GTyIsDQogICAgICAgICAgdHlwZTogMg0KICAgICAgICB9Ow0KICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoDQogICAgICAgICAgYC9mbG93LWluZGV4L2xpc3RVc2VyYCwNCiAgICAgICAgICBmbG93SW5kZXhRdWVyeUR0bw0KICAgICAgICApOw0KICAgICAgICB0aGlzLnNhdmVMaXN0ID0gZGF0YTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUuaW5mbyhlcnJvcik7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDmtY/op4jmk43kvZwNCiAgICBhc3luYyByZWNvcmRWaWV3T3BlcmF0aW9uKGlkKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCBmbG93SW5kZXggPSB7DQogICAgICAgICAgY29udGVudElkOiBpZCwNCiAgICAgICAgICBjb250ZW50VHlwZTogIkhPVVNFX0lORk8iDQogICAgICAgIH07DQogICAgICAgIGF3YWl0IHRoaXMuJGF4aW9zLnBvc3QoYC9mbG93LWluZGV4L3ZpZXdPcGVyYXRpb25gLCBmbG93SW5kZXgpOw0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgY29uc29sZS5pbmZvKGVycm9yKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGZldGNoVXNlckluZm8oKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHRoaXMuJGF4aW9zLmdldChgL3VzZXIvYXV0aGApOw0KICAgICAgICB0aGlzLnVzZXJJZCA9IGRhdGEuaWQ7DQogICAgICAgIHRoaXMuYXZhdGFyID0gZGF0YS5hdmF0YXI7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLojrflj5bnlKjmiLfkv6Hmga/lpLHotKUiKTsNCiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7DQogICAgICB9DQogICAgfSwNCiAgICBhc3luYyBmZXRjaEhvdXNlSW5mbyhpZCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoYC9ob3VzZS9nZXRCeUlkLyR7aWR9YCk7DQogICAgICAgIHRoaXMuaG91c2UgPSB7IC4uLmRhdGEgfTsNCiAgICAgICAgdGhpcy5jb3Zlckxpc3QgPSAoZGF0YS5jb3ZlcnMgfHwgIiIpDQogICAgICAgICAgLnNwbGl0KCIsIikNCiAgICAgICAgICAuZmlsdGVyKHVybCA9PiB1cmwudHJpbSgpKQ0KICAgICAgICAgIC5tYXAodXJsID0+ICh7DQogICAgICAgICAgICB1aWQ6IERhdGUubm93KCkgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKSwNCiAgICAgICAgICAgIHVybDogdXJsLnRyaW0oKQ0KICAgICAgICAgIH0pKTsNCiAgICAgICAgdGhpcy5ob3VzZUxpdmluZ0ZhY2lsaXR5TGlzdCA9IEpTT04ucGFyc2UoDQogICAgICAgICAgZGF0YS5saXZpbmdGYWNpbGl0aWVzIHx8ICJ7fSINCiAgICAgICAgKTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIuiOt+WPluaIv+Wxi+S/oeaBr+Wksei0pSIpOw0KICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGdldEZhY2lsaXR5SWNvbihrZXkpIHsNCiAgICAgIGNvbnN0IGljb25NYXAgPSB7DQogICAgICAgIGZyaWRnZTogImVsLWljb24tcmVmcmlnZXJhdG9yIiwNCiAgICAgICAgd2FzaGluZzogImVsLWljb24td2FzaGluZy1tYWNoaW5lIiwNCiAgICAgICAgd2F0ZXI6ICJlbC1pY29uLXdhdGVyLWN1cCIsDQogICAgICAgIG5ldHdvcms6ICJlbC1pY29uLW1vbml0b3IiLA0KICAgICAgICBzb2ZhOiAiZWwtaWNvbi1zaG9wcGluZy1jYXJ0IiwNCiAgICAgICAgY29va2luZzogImVsLWljb24ta25pZmUtZm9yayIsDQogICAgICAgIHR2OiAiZWwtaWNvbi12aWRlby1jYW1lcmEiLA0KICAgICAgICBhYzogImVsLWljb24tY29sZC1kcmluayIsDQogICAgICAgIHdhcmRyb2JlOiAiZWwtaWNvbi1zdWl0Y2FzZSIsDQogICAgICAgIGJlZDogImVsLWljb24tYmVkIiwNCiAgICAgICAgYmF0aHJvb206ICJlbC1pY29uLXN1bm55IiwNCiAgICAgICAgYmFsY29ueTogImVsLWljb24tb2ZmaWNlLWJ1aWxkaW5nIiwNCiAgICAgICAgaGVhdGluZzogImVsLWljb24tc3VucmlzZSIsDQogICAgICAgIGNhYmluZXQ6ICJlbC1pY29uLWJveCINCiAgICAgIH07DQogICAgICByZXR1cm4gaWNvbk1hcFtrZXldIHx8ICJlbC1pY29uLWNpcmNsZS1jaGVjayI7DQogICAgfSwNCiAgICBjb250YWN0TGFuZGxvcmQoKSB7DQogICAgICB0aGlzLmRyYXdlckhvdXNlT3JkZXIgPSB0cnVlOw0KICAgIH0sDQogICAgLy8g5pS26JeP5pON5L2cDQogICAgYXN5bmMgY29sbGVjdEhvdXNlT3BlcmF0aW9uKCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgZmxvd0luZGV4ID0gew0KICAgICAgICAgIGNvbnRlbnRJZDogdGhpcy5ob3VzZUlkLA0KICAgICAgICAgIGNvbnRlbnRUeXBlOiAiSE9VU0VfSU5GTyINCiAgICAgICAgfTsNCiAgICAgICAgY29uc3QgeyBtZXNzYWdlIH0gPSBhd2FpdCB0aGlzLiRheGlvcy5wb3N0KA0KICAgICAgICAgIGAvZmxvdy1pbmRleC9zYXZlT3BlcmF0aW9uYCwNCiAgICAgICAgICBmbG93SW5kZXgNCiAgICAgICAgKTsNCiAgICAgICAgdGhpcy4kbm90aWZ5LnN1Y2Nlc3Moew0KICAgICAgICAgIHRpdGxlOiAi5pS26JeP5pON5L2cIiwNCiAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLA0KICAgICAgICAgIHBvc2l0aW9uOiAiYnV0dG9tLXJpZ2h0IiwNCiAgICAgICAgICBkdXJhdGlvbjogMTAwMA0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5yZWNvcmRTYXZlU3RhdHVzKHRoaXMuaG91c2VJZCk7DQogICAgICB9IGNhdGNoIChlcnJvcikgew0KICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVycm9yKTsNCiAgICAgICAgY29uc29sZS5pbmZvKGVycm9yKTsNCiAgICAgIH0NCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["HouseDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HouseDetail.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"house-detail-container\">\r\n      <div style=\"margin-bottom: 20px;\">\r\n        <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n          <el-breadcrumb-item :to=\"{ path: '/user' }\">首页</el-breadcrumb-item>\r\n\r\n          <el-breadcrumb-item>{{ house.name }}</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n\r\n      <!-- 顶部图片展示区 -->\r\n      <div class=\"gallery-section\">\r\n        <div class=\"main-image\">\r\n          <img\r\n            v-if=\"coverList.length > 0\"\r\n            :src=\"coverList[currentImageIndex].url\"\r\n            alt=\"房屋封面图\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"thumbnail-list\">\r\n          <div\r\n            v-for=\"(cover, index) in coverList\"\r\n            :key=\"cover.uid\"\r\n            class=\"thumbnail\"\r\n            @click=\"currentImageIndex = index\"\r\n          >\r\n            <img :src=\"cover.url\" alt=\"房屋实景图\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 基本信息区 -->\r\n      <div class=\"basic-info-section\">\r\n        <h1 class=\"house-title\">{{ house.name }}</h1>\r\n\r\n        <div class=\"price-section\">\r\n          <div>\r\n            <span class=\"price\">¥{{ house.rent }}</span>\r\n\r\n            <span class=\"unit\">/月</span>\r\n\r\n            <span class=\"deposit-method\">{{ house.depositMethodName }}</span>\r\n          </div>\r\n\r\n          <div style=\"display: flex;gap: 10px;\">\r\n            <!-- <el-button type=\"primary\" @click=\"contactLandlord\">预约看房</el-button>\r\n\r\n                        <el-button @click=\"collectHouseOperation\">{{ saveList.length > 0 ? '取消收藏' : '收藏' }}</el-button> -->\r\n            <div class=\"save\" @click=\"contactLandlord\">\r\n              <i class=\"el-icon-date\"></i>\r\n\r\n              预约看房\r\n            </div>\r\n\r\n            <div class=\"save\" @click=\"collectHouseOperation\">\r\n              <i\r\n                :class=\"\r\n                  saveList.length > 0 ? 'el-icon-star-on' : 'el-icon-star-off'\r\n                \"\r\n              ></i>\r\n\r\n              {{ saveList.length > 0 ? \"取消收藏\" : \"收藏\" }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"meta-info\">\r\n          <div class=\"meta-item\" @click=\"communityInfo(house)\">\r\n            <i class=\"el-icon-location\"></i>\r\n\r\n            <span>{{ house.cityAreaName }} · {{ house.communityName }}</span>\r\n          </div>\r\n\r\n          <div class=\"meta-item\">\r\n            <i class=\"el-icon-house\"></i>\r\n\r\n            <span>{{ house.typeName }} · {{ house.sizeNumber }}m²</span>\r\n          </div>\r\n\r\n          <div class=\"meta-item\">\r\n            <i class=\"el-icon-position\"></i>\r\n\r\n            <span>{{ house.directionName }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 详细信息区 -->\r\n      <div class=\"detail-section\">\r\n        <div class=\"section-title\">房屋详情</div>\r\n\r\n        <div class=\"detail-grid\">\r\n          <div class=\"detail-item\">\r\n            <span class=\"label\">户型</span>\r\n\r\n            <span class=\"value\">{{ house.sizedName }}</span>\r\n          </div>\r\n\r\n          <div class=\"detail-item\">\r\n            <span class=\"label\">楼层</span>\r\n\r\n            <span class=\"value\">{{ house.floor }}</span>\r\n          </div>\r\n\r\n          <div class=\"detail-item\">\r\n            <span class=\"label\">装修</span>\r\n\r\n            <span class=\"value\">{{ house.fitmentStatusName }}</span>\r\n          </div>\r\n\r\n          <div class=\"detail-item\">\r\n            <span class=\"label\">地铁</span>\r\n\r\n            <span class=\"value\">{{\r\n              house.isSubway ? `${house.subwayLine}号线` : \"不临近\"\r\n            }}</span>\r\n          </div>\r\n\r\n          <div class=\"detail-item\">\r\n            <span class=\"label\">租赁方式</span>\r\n\r\n            <span class=\"value\">{{ house.rentalTypeName }}</span>\r\n          </div>\r\n\r\n          <div class=\"detail-item\">\r\n            <span class=\"label\">发布时间</span>\r\n\r\n            <span class=\"value\">{{ house.createTime }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 设施配置区 -->\r\n      <div class=\"facilities-section\">\r\n        <div class=\"section-title\">生活设施</div>\r\n\r\n        <div class=\"facilities-grid\">\r\n          <div\r\n            v-for=\"(item, key) in houseLivingFacilityList\"\r\n            :key=\"key\"\r\n            class=\"facility-item\"\r\n            :class=\"{ available: Boolean(item.selected) }\"\r\n          >\r\n            <i :class=\"getFacilityIcon(key)\"></i>\r\n\r\n            <span>{{ item.label }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 房屋描述 -->\r\n      <div class=\"description-section\">\r\n        <div class=\"section-title\">房屋描述</div>\r\n\r\n        <div class=\"description-content\" v-html=\"house.detail\"></div>\r\n      </div>\r\n\r\n      <!-- 服务评价 -->\r\n      <div class=\"description-section\">\r\n        <div class=\"section-title\">服务评价</div>\r\n\r\n        <div>\r\n          <div\r\n            style=\"margin-bottom: 10px;\"\r\n            v-for=\"(evaluations, index) in houseOrderEvaluations\"\r\n            :key=\"index\"\r\n          >\r\n            <div>\r\n              <div\r\n                style=\"margin-bottom: 6px;display: flex;justify-content: left;align-items: center;gap: 10px;\"\r\n              >\r\n                <div>\r\n                  <img\r\n                    style=\"width: 30px;height: 30px;border-radius: 50%;\"\r\n                    :src=\"evaluations.avatar\"\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <div style=\"font-size: 16px;padding-left: 5px;\">\r\n                    {{ evaluations.username }}\r\n                  </div>\r\n\r\n                  <div>\r\n                    <el-rate\r\n                      v-model=\"evaluations.score\"\r\n                      disabled\r\n                      show-score\r\n                      text-color=\"#ff9900\"\r\n                      score-template=\"{value}\"\r\n                    >\r\n                    </el-rate>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div\r\n                style=\"color: #666666;background-color: rgb(246,246,246);padding: 10px;font-size: 14px;\"\r\n              >\r\n                {{ evaluations.text }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 底部操作栏 -->\r\n      <div class=\"action-bar\">\r\n        <div class=\"contact-info\">\r\n          <div class=\"avatar\">\r\n            <img :src=\"house.landlordAvatar\" alt=\"房东头像\" />\r\n          </div>\r\n\r\n          <div class=\"info\">\r\n            <div class=\"name\">{{ house.landlordName }}</div>\r\n\r\n            <div class=\"role\">\r\n              <div class=\"save\" @click=\"fetchLandlordHouseList\">\r\n                <i class=\"el-icon-s-home\"></i>\r\n\r\n                查看房东名下待租房源\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"action-buttons\"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 功能区 -->\r\n    <div class=\"fun-container\">\r\n      <Evaluations\r\n        :userId=\"Number(userId)\"\r\n        :avatar=\"String(avatar)\"\r\n        :contentId=\"Number(houseId)\"\r\n        contentType=\"HOUSE_INFO\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 预约看房信息确认框 -->\r\n    <el-drawer\r\n      title=\"预约看房\"\r\n      size=\"40%\"\r\n      :visible.sync=\"drawerHouseOrder\"\r\n      :direction=\"direction\"\r\n      :before-close=\"handleClose\"\r\n    >\r\n      <div class=\"house-order-drawer\">\r\n        <div class=\"contact-info\">\r\n          <div class=\"avatar\">\r\n            <img :src=\"house.landlordAvatar\" alt=\"房东头像\" />\r\n          </div>\r\n\r\n          <div class=\"info\">\r\n            <div class=\"name\">{{ house.landlordName }}</div>\r\n\r\n            <div class=\"role\">房东</div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 步骤条 -->\r\n        <div>\r\n          <el-steps :space=\"200\" :active=\"activePath\" finish-status=\"success\">\r\n            <el-step title=\"选择日期\"></el-step>\r\n\r\n            <el-step title=\"选择时间段\"></el-step>\r\n          </el-steps>\r\n        </div>\r\n\r\n        <!-- 参数选择信息 -->\r\n        <div style=\"padding-block: 10px;\">\r\n          <div v-if=\"activePath === 0\">\r\n            <div\r\n              :style=\"{\r\n                border:\r\n                  selctedDateItem === date ? '1px solid rgb(0, 119, 184)' : ''\r\n              }\"\r\n              class=\"item-date\"\r\n              @click=\"dateSelected(date)\"\r\n              v-for=\"(date, index) in dateOrderList\"\r\n              :key=\"index\"\r\n            >\r\n              {{ date }}\r\n            </div>\r\n          </div>\r\n\r\n          <div v-else-if=\"activePath === 1\">\r\n            <div\r\n              :style=\"{\r\n                border:\r\n                  selctedDateSplitItem &&\r\n                  selctedDateSplitItem.value === split.value\r\n                    ? '1px solid rgb(0, 119, 184)'\r\n                    : ''\r\n              }\"\r\n              class=\"item-date\"\r\n              @click=\"dateSplitSelected(split)\"\r\n              v-for=\"(split, index) in dateOrderSplitList\"\r\n              :key=\"index\"\r\n            >\r\n              {{ split.label }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 下一步 -->\r\n        <div\r\n          style=\"text-align: center;display: flex;align-items: center;justify-content: center;\"\r\n        >\r\n          <div class=\"primary-bt\" @click=\"last\">\r\n            <i class=\"el-icon-caret-right\"></i>\r\n\r\n            上一步\r\n          </div>\r\n\r\n          <div class=\"primary-bt\" @click=\"next\">\r\n            <i class=\"el-icon-caret-right\"></i>\r\n\r\n            下一步\r\n          </div>\r\n\r\n          <div class=\"info-bt\" @click=\"handleConfirmOrder\">\r\n            确定预约\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-drawer>\r\n\r\n    <el-drawer\r\n      title=\"待租房源\"\r\n      size=\"40%\"\r\n      :visible.sync=\"drawerLandlordHouseList\"\r\n      :direction=\"directionLandlordHouseList\"\r\n      :before-close=\"handleLandlordHouseClose\"\r\n    >\r\n      <div>\r\n        <div class=\"house-list\">\r\n          <div v-if=\"landlordHouseList.length === 0\">\r\n            <el-empty description=\"暂无房屋信息\"></el-empty>\r\n          </div>\r\n\r\n          <div\r\n            @click=\"houseItemClick(item.id)\"\r\n            class=\"house-item\"\r\n            v-for=\"item in landlordHouseList\"\r\n            :key=\"item.id\"\r\n          >\r\n            <img :src=\"item.cover\" alt=\"\" />\r\n            <div>\r\n              <div class=\"name\">{{ item.name }}</div>\r\n\r\n              <div class=\"point\">\r\n                <div>\r\n                  <i class=\"el-icon-location\"></i>\r\n\r\n                  {{ item.cityAreaName }}&nbsp;·&nbsp;{{ item.communityName }}\r\n                </div>\r\n\r\n                <div>\r\n                  {{ item.depositMethodName }}\r\n                </div>\r\n\r\n                <div>{{ item.sizeNumber }}m²</div>\r\n\r\n                <div>\r\n                  {{ item.directionName }}\r\n                </div>\r\n\r\n                <div>\r\n                  {{ item.fitmentStatusName }}\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"rent\">¥{{ item.rent }}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Evaluations from \"@/components/Evaluations\";\r\nexport default {\r\n  components: { Evaluations },\r\n  data() {\r\n    return {\r\n      activePath: 0,\r\n      drawerHouseOrder: false,\r\n      direction: \"rtl\",\r\n      startTime: 0,\r\n      hasRecorded: false, // 防止重复记录\r\n      indexCover: null,\r\n      houseId: null,\r\n      house: {},\r\n      coverList: [],\r\n      houseLivingFacilityList: {},\r\n      currentImageIndex: 0,\r\n      userId: null,\r\n      avatar: \"\",\r\n      saveList: [], // 用户收藏情况\r\n      dateOrderSplitList: [],\r\n      defaultSelectDays: 15,\r\n      dateOrderList: [],\r\n      selctedDateItem: null,\r\n      selctedDateSplitItem: null,\r\n      houseOrderEvaluations: [],\r\n      landlordHouseList: [],\r\n      directionLandlordHouseList: \"rtl\", // 房东名下房源显示抽屉方向\r\n      drawerLandlordHouseList: false\r\n    };\r\n  },\r\n  created() {\r\n    this.getPathId();\r\n    this.fetchUserInfo();\r\n    this.fetchFutureDate(this.defaultSelectDays);\r\n    this.fetchFutureDateSplit();\r\n  },\r\n  mounted() {\r\n    this.startTime = performance.now(); // 更精确的高精度时间\r\n    window.addEventListener(\"beforeunload\", this.handlePageLeave);\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(\"beforeunload\", this.handlePageLeave);\r\n  },\r\n  methods: {\r\n    handleLandlordHouseClose() {\r\n      this.drawerLandlordHouseList = false;\r\n    },\r\n    // 跳转至房屋详情页\r\n    houseItemClick(id) {\r\n      window.open(`/house-detail?id=${id}`, \"_blank\");\r\n    },\r\n    async fetchLandlordHouseList() {\r\n      try {\r\n        const { data } = await this.$axios.post(`/house/listUser`, {\r\n          landlordId: this.house.landlordId\r\n        });\r\n        this.landlordHouseList = data;\r\n        this.drawerLandlordHouseList = true;\r\n      } catch (e) {\r\n        this.$message.info(e.message);\r\n        console.error(\"预约看房失败:\", e);\r\n      }\r\n    },\r\n    // 跳转小区详情页\r\n    communityInfo(house) {\r\n      window.open(`/community-detail?id=${house.communityId}`);\r\n    },\r\n    async handleConfirmOrder() {\r\n      if (this.selctedDateItem === null) {\r\n        this.$message.info(\"请选中日期\");\r\n        return;\r\n      }\r\n      if (this.selctedDateSplitItem === null) {\r\n        this.$message.info(\"请选中预约时间段\");\r\n        return;\r\n      }\r\n      try {\r\n        const houseOrderInfo = {\r\n          orderDate: this.selctedDateItem,\r\n          orderTimeSplit: this.selctedDateSplitItem.label,\r\n          houseId: this.houseId\r\n        };\r\n        await this.$axios.post(`/house-order-info/save`, houseOrderInfo);\r\n        this.$message(\"预约看房成功\");\r\n        this.handleClose();\r\n      } catch (e) {\r\n        this.$message.info(e.message);\r\n        console.error(\"预约看房失败:\", e);\r\n      }\r\n    },\r\n    dateSelected(date) {\r\n      this.selctedDateItem = date;\r\n    },\r\n    dateSplitSelected(date) {\r\n      this.selctedDateSplitItem = date;\r\n    },\r\n    last() {\r\n      if (this.activePath-- <= 0) this.activePath = 1;\r\n    },\r\n    next() {\r\n      if (this.activePath++ >= 1) this.activePath = 0;\r\n    },\r\n    handleClose() {\r\n      this.drawerHouseOrder = false;\r\n      this.selctedDateItem = null;\r\n      this.selctedDateSplitItem = null;\r\n    },\r\n    handlePageLeave() {\r\n      if (this.hasRecorded) return;\r\n\r\n      const endTime = performance.now();\r\n      const stayTime = Math.floor(endTime - this.startTime);\r\n\r\n      this.hasRecorded = true;\r\n\r\n      this.sendStayTime(stayTime);\r\n    },\r\n    async fetchFutureDate(days) {\r\n      try {\r\n        const { data } = await this.$axios.get(`/house-order-info/${days}`);\r\n        this.dateOrderList = data;\r\n      } catch (e) {\r\n        console.error(\"查询预约日期失败:\", e);\r\n      }\r\n    },\r\n    // 查询服务评价\r\n    async fetchHouseOrderEvaluations(id) {\r\n      try {\r\n        const { data } = await this.$axios.get(\r\n          `/house-order-evaluations/houseList/${id}`\r\n        );\r\n        this.houseOrderEvaluations = data;\r\n      } catch (e) {\r\n        console.error(\"查询预约看房服务评价失败:\", e);\r\n      }\r\n    },\r\n    async fetchFutureDateSplit() {\r\n      try {\r\n        const { data } = await this.$axios.get(`/house-order-info/split`);\r\n        this.dateOrderSplitList = data;\r\n      } catch (e) {\r\n        console.error(\"查询预约日期时间段失败:\", e);\r\n      }\r\n    },\r\n    async sendStayTime(duration) {\r\n      try {\r\n        await this.$axios.post(\"/flow-index/stayOperation\", {\r\n          contentId: this.houseId,\r\n          times: duration,\r\n          contentType: \"HOUSE_INFO\"\r\n        });\r\n      } catch (e) {\r\n        console.error(\"记录停留时间失败:\", e);\r\n      }\r\n    },\r\n    getPathId() {\r\n      this.houseId = this.$route.query.id;\r\n      this.fetchHouseInfo(this.houseId);\r\n      this.recordViewOperation(this.houseId);\r\n      this.recordSaveStatus(this.houseId);\r\n      this.fetchHouseOrderEvaluations(this.houseId);\r\n    },\r\n    // 查询用户对于内容的收藏情况\r\n    async recordSaveStatus(id) {\r\n      try {\r\n        const flowIndexQueryDto = {\r\n          contentId: id,\r\n          contentType: \"HOUSE_INFO\",\r\n          type: 2\r\n        };\r\n        const { data } = await this.$axios.post(\r\n          `/flow-index/listUser`,\r\n          flowIndexQueryDto\r\n        );\r\n        this.saveList = data;\r\n      } catch (error) {\r\n        console.info(error);\r\n      }\r\n    },\r\n    // 浏览操作\r\n    async recordViewOperation(id) {\r\n      try {\r\n        const flowIndex = {\r\n          contentId: id,\r\n          contentType: \"HOUSE_INFO\"\r\n        };\r\n        await this.$axios.post(`/flow-index/viewOperation`, flowIndex);\r\n      } catch (error) {\r\n        console.info(error);\r\n      }\r\n    },\r\n    async fetchUserInfo() {\r\n      try {\r\n        const { data } = await this.$axios.get(`/user/auth`);\r\n        this.userId = data.id;\r\n        this.avatar = data.avatar;\r\n      } catch (error) {\r\n        this.$message.error(\"获取用户信息失败\");\r\n        console.error(error);\r\n      }\r\n    },\r\n    async fetchHouseInfo(id) {\r\n      try {\r\n        const { data } = await this.$axios.get(`/house/getById/${id}`);\r\n        this.house = { ...data };\r\n        this.coverList = (data.covers || \"\")\r\n          .split(\",\")\r\n          .filter(url => url.trim())\r\n          .map(url => ({\r\n            uid: Date.now() + Math.floor(Math.random() * 1000),\r\n            url: url.trim()\r\n          }));\r\n        this.houseLivingFacilityList = JSON.parse(\r\n          data.livingFacilities || \"{}\"\r\n        );\r\n      } catch (error) {\r\n        this.$message.error(\"获取房屋信息失败\");\r\n        console.error(error);\r\n      }\r\n    },\r\n    getFacilityIcon(key) {\r\n      const iconMap = {\r\n        fridge: \"el-icon-refrigerator\",\r\n        washing: \"el-icon-washing-machine\",\r\n        water: \"el-icon-water-cup\",\r\n        network: \"el-icon-monitor\",\r\n        sofa: \"el-icon-shopping-cart\",\r\n        cooking: \"el-icon-knife-fork\",\r\n        tv: \"el-icon-video-camera\",\r\n        ac: \"el-icon-cold-drink\",\r\n        wardrobe: \"el-icon-suitcase\",\r\n        bed: \"el-icon-bed\",\r\n        bathroom: \"el-icon-sunny\",\r\n        balcony: \"el-icon-office-building\",\r\n        heating: \"el-icon-sunrise\",\r\n        cabinet: \"el-icon-box\"\r\n      };\r\n      return iconMap[key] || \"el-icon-circle-check\";\r\n    },\r\n    contactLandlord() {\r\n      this.drawerHouseOrder = true;\r\n    },\r\n    // 收藏操作\r\n    async collectHouseOperation() {\r\n      try {\r\n        const flowIndex = {\r\n          contentId: this.houseId,\r\n          contentType: \"HOUSE_INFO\"\r\n        };\r\n        const { message } = await this.$axios.post(\r\n          `/flow-index/saveOperation`,\r\n          flowIndex\r\n        );\r\n        this.$notify.success({\r\n          title: \"收藏操作\",\r\n          message: message,\r\n          position: \"buttom-right\",\r\n          duration: 1000\r\n        });\r\n        this.recordSaveStatus(this.houseId);\r\n      } catch (error) {\r\n        this.$message.error(error);\r\n        console.info(error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.house-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 10px;\r\n\r\n  .house-item {\r\n    flex: 1 1 400px;\r\n    display: flex;\r\n    gap: 10px;\r\n    padding: 10px;\r\n    box-sizing: border-box;\r\n    cursor: pointer;\r\n\r\n    .name {\r\n      font-size: 18px;\r\n    }\r\n\r\n    img {\r\n      width: 120px;\r\n      height: 80px;\r\n      border-radius: 5px;\r\n    }\r\n\r\n    .point {\r\n      font-size: 12px;\r\n      margin-block: 10px;\r\n      display: flex;\r\n      justify-content: left;\r\n      align-items: center;\r\n      gap: 10px;\r\n      box-sizing: border-box;\r\n\r\n      div {\r\n        background-color: rgb(245, 246, 247);\r\n        padding: 2px 4px;\r\n      }\r\n    }\r\n\r\n    .rent {\r\n      font-size: 22px;\r\n      font-weight: 800;\r\n      color: rgb(222, 88, 78);\r\n    }\r\n  }\r\n}\r\n\r\n.save {\r\n  background-color: rgb(245, 245, 245);\r\n  padding: 4px 10px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n\r\n  &:hover {\r\n    background-color: rgb(240, 240, 240);\r\n  }\r\n}\r\n\r\n.house-order-drawer {\r\n  padding: 20px;\r\n\r\n  .contact-info {\r\n    display: flex;\r\n    padding: 10px 4px;\r\n    align-items: center;\r\n    background-color: rgb(246, 246, 246);\r\n    margin-bottom: 10px;\r\n\r\n    .avatar {\r\n      width: 50px;\r\n      height: 50px;\r\n      margin-right: 15px;\r\n      border-radius: 50%;\r\n      overflow: hidden;\r\n\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n      }\r\n    }\r\n\r\n    .info {\r\n      .name {\r\n        font-size: 24px;\r\n        font-weight: 600;\r\n        margin-bottom: 5px;\r\n      }\r\n\r\n      .role {\r\n        font-size: 14px;\r\n        color: #999;\r\n      }\r\n    }\r\n  }\r\n\r\n  .item-date {\r\n    padding: 10px 0;\r\n    background-color: rgb(246, 246, 246);\r\n    border: 1px solid rgb(246, 246, 246);\r\n    text-align: center;\r\n    cursor: pointer;\r\n\r\n    &:hover {\r\n      background-color: rgb(244, 244, 244);\r\n    }\r\n  }\r\n}\r\n\r\n.container {\r\n  display: flex;\r\n}\r\n\r\n.fun-container {\r\n  width: calc(100% - 900px);\r\n  position: sticky;\r\n  top: 10px; // 与顶部保持间距\r\n  align-self: flex-start; // 避免被拉伸\r\n  height: fit-content; // 高度自适应内容\r\n  margin-left: 10px; // 与左侧内容间隔\r\n  padding: 15px;\r\n  border-radius: 8px;\r\n  background: #fff;\r\n}\r\n\r\n.house-detail-container {\r\n  width: 800px;\r\n  padding: 20px;\r\n  background-color: rgb(255, 255, 255);\r\n  // box-shadow: 0 4px 8px rgb(240,240,240);\r\n  font-family: \"PingFang SC\", \"Microsoft YaHei\", sans-serif;\r\n}\r\n\r\n/* 图片展示区 */\r\n.gallery-section {\r\n  margin-bottom: 30px;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  // box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n\r\n  .main-image {\r\n    height: auto;\r\n    // background: #f5f5f5;\r\n\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: cover;\r\n    }\r\n  }\r\n\r\n  .thumbnail-list {\r\n    display: flex;\r\n    padding: 10px;\r\n    background: #fff;\r\n    border: 1px solid rgb(240, 240, 240);\r\n    overflow-x: auto;\r\n\r\n    .thumbnail {\r\n      width: 100px;\r\n      height: 80px;\r\n      margin-right: 10px;\r\n      cursor: pointer;\r\n      border: 2px solid transparent;\r\n      transition: all 0.3s;\r\n\r\n      &:hover {\r\n        border-color: #409eff;\r\n      }\r\n\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* 基本信息区 */\r\n.basic-info-section {\r\n  margin-bottom: 30px;\r\n  padding: 10px 20px;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  // box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 1000;\r\n\r\n  .house-title {\r\n    font-size: 30px;\r\n    margin-bottom: 15px;\r\n    color: #333;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .price-section {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 20px;\r\n\r\n    .price {\r\n      font-size: 28px;\r\n      color: #f56c6c;\r\n      font-weight: 700;\r\n    }\r\n\r\n    .unit {\r\n      font-size: 16px;\r\n      color: #999;\r\n      margin-right: 15px;\r\n    }\r\n\r\n    .deposit-method {\r\n      font-size: 14px;\r\n      color: #666;\r\n      background: #f5f5f5;\r\n      padding: 4px 8px;\r\n      border-radius: 4px;\r\n    }\r\n  }\r\n\r\n  .meta-info {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    gap: 20px;\r\n\r\n    .meta-item {\r\n      display: flex;\r\n      align-items: center;\r\n      color: #666;\r\n\r\n      i {\r\n        margin-right: 5px;\r\n        font-size: 16px;\r\n      }\r\n\r\n      span {\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* 详细信息区 */\r\n.detail-section {\r\n  margin-bottom: 30px;\r\n  padding: 20px;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n\r\n  .section-title {\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n    margin-bottom: 20px;\r\n    color: #333;\r\n    padding-bottom: 10px;\r\n    border-bottom: 1px solid #eee;\r\n  }\r\n\r\n  .detail-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    gap: 15px;\r\n\r\n    .detail-item {\r\n      display: flex;\r\n      justify-content: space-between;\r\n\r\n      .label {\r\n        color: #999;\r\n      }\r\n\r\n      .value {\r\n        font-weight: 500;\r\n        color: #333;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* 设施配置区 */\r\n.facilities-section {\r\n  margin-bottom: 30px;\r\n  padding: 20px;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  // box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n\r\n  .section-title {\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n    margin-bottom: 20px;\r\n    color: #333;\r\n    padding-bottom: 10px;\r\n    border-bottom: 1px solid #eee;\r\n  }\r\n\r\n  .facilities-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(4, 1fr);\r\n    gap: 15px;\r\n\r\n    .facility-item {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 8px;\r\n      border-radius: 4px;\r\n      background: #f9f9f9;\r\n      color: #999;\r\n\r\n      &.available {\r\n        background: #f0f9eb;\r\n        color: #67c23a;\r\n\r\n        i {\r\n          color: #67c23a;\r\n        }\r\n      }\r\n\r\n      i {\r\n        margin-right: 8px;\r\n        font-size: 18px;\r\n      }\r\n\r\n      span {\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* 房屋描述区 */\r\n.description-section {\r\n  margin-bottom: 30px;\r\n  padding: 20px;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n\r\n  .section-title {\r\n    font-size: 18px;\r\n    font-weight: 600;\r\n    margin-bottom: 20px;\r\n    color: #333;\r\n    padding-bottom: 10px;\r\n    border-bottom: 1px solid #eee;\r\n  }\r\n\r\n  .description-content {\r\n    line-height: 1.8;\r\n    color: #666;\r\n\r\n    v::deep p {\r\n      margin-bottom: 15px;\r\n    }\r\n\r\n    v::deep img {\r\n      max-width: 100%;\r\n      height: auto;\r\n      margin: 10px 0;\r\n      border-radius: 4px;\r\n    }\r\n  }\r\n}\r\n\r\n/* 底部操作栏 */\r\n.action-bar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 15px 20px;\r\n  background: #fff;\r\n  border-radius: 8px;\r\n  // box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n\r\n  .contact-info {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    .avatar {\r\n      width: 50px;\r\n      height: 50px;\r\n      margin-right: 15px;\r\n      border-radius: 50%;\r\n      overflow: hidden;\r\n\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        object-fit: cover;\r\n      }\r\n    }\r\n\r\n    .info {\r\n      .name {\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n        margin-bottom: 5px;\r\n      }\r\n\r\n      .role {\r\n        font-size: 12px;\r\n        color: #999;\r\n      }\r\n    }\r\n  }\r\n\r\n  .action-buttons {\r\n    .el-button {\r\n      margin-left: 15px;\r\n      padding: 10px 20px;\r\n    }\r\n  }\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .detail-grid {\r\n    grid-template-columns: repeat(2, 1fr) !important;\r\n  }\r\n\r\n  .facilities-grid {\r\n    grid-template-columns: repeat(2, 1fr) !important;\r\n  }\r\n\r\n  .action-bar {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n\r\n    .action-buttons {\r\n      margin-top: 15px;\r\n      width: 100%;\r\n\r\n      .el-button {\r\n        width: 100%;\r\n        margin-left: 0;\r\n        margin-bottom: 10px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}