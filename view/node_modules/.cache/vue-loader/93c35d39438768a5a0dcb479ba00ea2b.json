{"remainingRequest":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\desktop\\rent\\view\\src\\views\\user\\CommunityDetail.vue?vue&type=style&index=0&id=0a0acb50&scoped=true&lang=scss&","dependencies":[{"path":"D:\\desktop\\rent\\view\\src\\views\\user\\CommunityDetail.vue","mtime":1771038385424},{"path":"D:\\desktop\\rent\\view\\node_modules\\css-loader\\dist\\cjs.js","mtime":1765027960330},{"path":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1765027965207},{"path":"D:\\desktop\\rent\\view\\node_modules\\postcss-loader\\src\\index.js","mtime":1765027962540},{"path":"D:\\desktop\\rent\\view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1765027958888},{"path":"D:\\desktop\\rent\\view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1765027958923},{"path":"D:\\desktop\\rent\\view\\node_modules\\vue-loader\\lib\\index.js","mtime":1765027963512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmNvbnRhaW5lci1jb21tdW5pdHkgew0KICBkaXNwbGF5OiBmbGV4Ow0KICAvLyBwYWRkaW5nOiAxMHB4IDQwcHg7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIGdhcDogMjBweDsNCiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0OCwgMjQ4LCAyNDgpOw0KDQogIC5pbmZvIHsNCiAgICB3aWR0aDogODAwcHg7DQoNCiAgICAuZGVzY3JpcHRpb24tc2VjdGlvbiB7DQogICAgICBwYWRkaW5nOiAyMHB4IDQwcHg7DQogICAgICBiYWNrZ3JvdW5kOiAjZmZmOw0KICAgICAgLy8gYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7DQoNCiAgICAgIC5zZWN0aW9uLXRpdGxlIHsNCiAgICAgICAgZm9udC1zaXplOiAxOHB4Ow0KICAgICAgICBmb250LXdlaWdodDogNjAwOw0KICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgICAgICBjb2xvcjogIzMzMzsNCiAgICAgICAgcGFkZGluZy1ib3R0b206IDEwcHg7DQogICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWVlOw0KICAgICAgfQ0KDQogICAgICAuZGVzY3JpcHRpb24tY29udGVudCB7DQogICAgICAgIGxpbmUtaGVpZ2h0OiAxLjg7DQogICAgICAgIGNvbG9yOiAjNjY2Ow0KDQogICAgICAgIHY6OmRlZXAgcCB7DQogICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTVweDsNCiAgICAgICAgfQ0KDQogICAgICAgIHY6OmRlZXAgaW1nIHsNCiAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7DQogICAgICAgICAgaGVpZ2h0OiBhdXRvOw0KICAgICAgICAgIG1hcmdpbjogMTBweCAwOw0KICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIC8qIOWbvueJh+WxleekuuWMuiAqLw0KICAgIC5nYWxsZXJ5LXNlY3Rpb24gew0KICAgICAgcGFkZGluZzogMjBweCA0MHB4Ow0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpOw0KICAgICAgLy8gYm9yZGVyLXJhZGl1czogOHB4Ow0KICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgIC8vIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjEpOw0KDQogICAgICAubWFpbi1pbWFnZSB7DQogICAgICAgIGhlaWdodDogYXV0bzsNCiAgICAgICAgLy8gYmFja2dyb3VuZDogI2Y1ZjVmNTsNCg0KICAgICAgICBpbWcgew0KICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgIGhlaWdodDogMTAwJTsNCiAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjsNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgICAudGh1bWJuYWlsLWxpc3Qgew0KICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICBwYWRkaW5nOiAxMHB4Ow0KICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmOw0KICAgICAgICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMjQwLCAyNDAsIDI0MCk7DQogICAgICAgIG92ZXJmbG93LXg6IGF1dG87DQoNCiAgICAgICAgLnRodW1ibmFpbCB7DQogICAgICAgICAgd2lkdGg6IDEwMHB4Ow0KICAgICAgICAgIGhlaWdodDogODBweDsNCiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQogICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHRyYW5zcGFyZW50Ow0KICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjNzOw0KDQogICAgICAgICAgJjpob3ZlciB7DQogICAgICAgICAgICBib3JkZXItY29sb3I6ICM0MDllZmY7DQogICAgICAgICAgfQ0KDQogICAgICAgICAgaW1nIHsNCiAgICAgICAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9DQoNCiAgLmhvdXNlIHsNCiAgICB3aWR0aDogY2FsYygxMDAlIC0gODAwcHgpOw0KDQogICAgLmhvdXNlLWxpc3Qgew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGZsZXgtd3JhcDogd3JhcDsNCiAgICAgIG1hcmdpbi1ibG9jazogMzBweDsNCg0KICAgICAgLmhvdXNlLWl0ZW0gew0KICAgICAgICBmbGV4OiAxIDEgNDAwcHg7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIGdhcDogMTBweDsNCiAgICAgICAgcGFkZGluZzogMTBweDsNCiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KDQogICAgICAgIC5uYW1lIHsNCiAgICAgICAgICBmb250LXNpemU6IDE4cHg7DQogICAgICAgIH0NCg0KICAgICAgICBpbWcgew0KICAgICAgICAgIHdpZHRoOiAxMjBweDsNCiAgICAgICAgICBoZWlnaHQ6IDgwcHg7DQogICAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICAgICAgICB9DQoNCiAgICAgICAgLnBvaW50IHsNCiAgICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICAgICAgbWFyZ2luLWJsb2NrOiAxMHB4Ow0KICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAganVzdGlmeS1jb250ZW50OiBsZWZ0Ow0KICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAgZ2FwOiAxMHB4Ow0KICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQoNCiAgICAgICAgICBkaXYgew0KICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0NSwgMjQ2LCAyNDcpOw0KICAgICAgICAgICAgcGFkZGluZzogMnB4IDRweDsNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICAucmVudCB7DQogICAgICAgICAgZm9udC1zaXplOiAyMnB4Ow0KICAgICAgICAgIGZvbnQtd2VpZ2h0OiA4MDA7DQogICAgICAgICAgY29sb3I6IHJnYigyMjIsIDg4LCA3OCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCg0KICAudGl0bGUgew0KICAgIGZvbnQtc2l6ZTogNDBweDsNCg0KICAgIHBvc2l0aW9uOiBzdGlja3k7DQogICAgdG9wOiAwOw0KICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTsNCiAgICBwYWRkaW5nOiAzMHB4IDQwcHg7DQogIH0NCn0NCg=="},{"version":3,"sources":["CommunityDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"CommunityDetail.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n  <div class=\"container-community\">\r\n    <div class=\"info\">\r\n      <!-- 小区信息标题 -->\r\n      <div class=\"title\">\r\n        {{ community.name }}\r\n      </div>\r\n\r\n      <div class=\"description-section\">\r\n        <div class=\"section-title\">小区简介</div>\r\n\r\n        <div class=\"description-content\" v-html=\"community.detail\"></div>\r\n      </div>\r\n\r\n      <!-- 顶部图片展示区 -->\r\n      <div class=\"gallery-section\">\r\n        <div class=\"main-image\">\r\n          <img\r\n            v-if=\"coverList.length > 0\"\r\n            :src=\"coverList[currentImageIndex].url\"\r\n            alt=\"房屋封面图\"\r\n          />\r\n        </div>\r\n\r\n        <div class=\"thumbnail-list\">\r\n          <div\r\n            v-for=\"(cover, index) in coverList\"\r\n            :key=\"cover.uid\"\r\n            class=\"thumbnail\"\r\n            @click=\"currentImageIndex = index\"\r\n          >\r\n            <img :src=\"cover.url\" alt=\"房屋实景图\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- 评论模块嵌入 -->\r\n      <div style=\"background-color: rgb(255,255,255);\">\r\n        <Evaluations\r\n          :userId=\"Number(userId)\"\r\n          :avatar=\"String(avatar)\"\r\n          :contentId=\"Number(communityId)\"\r\n          contentType=\"COMMUNITY\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 渲染小区下面的所有房产信息 -->\r\n    <div class=\"house\">\r\n      <h2 style=\"padding-left: 10px;\">小区下待租房源</h2>\r\n\r\n      <div class=\"house-list\">\r\n        <div v-if=\"houseList.length === 0\">\r\n          <el-empty description=\"暂无房屋信息\"></el-empty>\r\n        </div>\r\n\r\n        <div\r\n          @click=\"houseItemClick(item.id)\"\r\n          class=\"house-item\"\r\n          v-for=\"item in houseList\"\r\n          :key=\"item.id\"\r\n        >\r\n          <img :src=\"item.cover\" alt=\"\" />\r\n          <div>\r\n            <div class=\"name\">{{ item.name }}</div>\r\n\r\n            <div class=\"point\">\r\n              <div>\r\n                <i class=\"el-icon-location\"></i>\r\n\r\n                {{ item.cityAreaName }}&nbsp;·&nbsp;{{ item.communityName }}\r\n              </div>\r\n\r\n              <div>\r\n                {{ item.depositMethodName }}\r\n              </div>\r\n\r\n              <div>{{ item.sizeNumber }}m²</div>\r\n\r\n              <div>\r\n                {{ item.directionName }}\r\n              </div>\r\n\r\n              <div>\r\n                {{ item.fitmentStatusName }}\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"rent\">¥{{ item.rent }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Evaluations from \"@/components/Evaluations\";\r\nexport default {\r\n  components: { Evaluations },\r\n  data() {\r\n    return {\r\n      communityId: null,\r\n      community: {},\r\n      userId: null,\r\n      avatar: \"\",\r\n      houseList: [],\r\n      coverList: [],\r\n      currentImageIndex: 0\r\n    };\r\n  },\r\n  created() {\r\n    this.getPathId();\r\n    this.fetchUserInfo();\r\n  },\r\n  methods: {\r\n    // 跳转至房屋详情页\r\n    houseItemClick(id) {\r\n      window.open(`/house-detail?id=${id}`, \"_blank\");\r\n    },\r\n    getPathId() {\r\n      this.communityId = this.$route.query.id;\r\n      this.fetchCommunityInfo(this.communityId);\r\n      this.fetchHouseList(this.communityId);\r\n    },\r\n    async fetchHouseList(id) {\r\n      try {\r\n        const { data } = await this.$axios.post(`/house/listUser`, {\r\n          communityId: id\r\n        });\r\n        this.houseList = data;\r\n      } catch (error) {\r\n        this.$message.error(\"获取房屋信息失败：\", error);\r\n        console.error(error);\r\n      }\r\n    },\r\n    async fetchUserInfo() {\r\n      try {\r\n        const { data } = await this.$axios.get(`/user/auth`);\r\n        this.userId = data.id;\r\n        this.avatar = data.avatar;\r\n      } catch (error) {\r\n        this.$message.error(\"获取用户信息失败\");\r\n        console.error(error);\r\n      }\r\n    },\r\n    async fetchCommunityInfo(id) {\r\n      try {\r\n        const { data } = await this.$axios.get(`/community/getById/${id}`);\r\n        this.community = { ...data };\r\n        this.coverList = (this.community.covers || \"\")\r\n          .split(\",\")\r\n          .filter(url => url.trim())\r\n          .map(url => ({\r\n            uid: Date.now() + Math.floor(Math.random() * 1000),\r\n            url: url.trim()\r\n          }));\r\n      } catch (error) {\r\n        this.$message.error(\"获取小区信息信息失败\");\r\n        console.error(error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.container-community {\r\n  display: flex;\r\n  // padding: 10px 40px;\r\n  box-sizing: border-box;\r\n  gap: 20px;\r\n  background-color: rgb(248, 248, 248);\r\n\r\n  .info {\r\n    width: 800px;\r\n\r\n    .description-section {\r\n      padding: 20px 40px;\r\n      background: #fff;\r\n      // border-radius: 8px;\r\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\r\n\r\n      .section-title {\r\n        font-size: 18px;\r\n        font-weight: 600;\r\n        margin-bottom: 20px;\r\n        color: #333;\r\n        padding-bottom: 10px;\r\n        border-bottom: 1px solid #eee;\r\n      }\r\n\r\n      .description-content {\r\n        line-height: 1.8;\r\n        color: #666;\r\n\r\n        v::deep p {\r\n          margin-bottom: 15px;\r\n        }\r\n\r\n        v::deep img {\r\n          max-width: 100%;\r\n          height: auto;\r\n          margin: 10px 0;\r\n          border-radius: 4px;\r\n        }\r\n      }\r\n    }\r\n\r\n    /* 图片展示区 */\r\n    .gallery-section {\r\n      padding: 20px 40px;\r\n      background-color: rgb(255, 255, 255);\r\n      // border-radius: 8px;\r\n      overflow: hidden;\r\n      // box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n\r\n      .main-image {\r\n        height: auto;\r\n        // background: #f5f5f5;\r\n\r\n        img {\r\n          width: 100%;\r\n          height: 100%;\r\n          object-fit: cover;\r\n        }\r\n      }\r\n\r\n      .thumbnail-list {\r\n        display: flex;\r\n        padding: 10px;\r\n        background: #fff;\r\n        border: 1px solid rgb(240, 240, 240);\r\n        overflow-x: auto;\r\n\r\n        .thumbnail {\r\n          width: 100px;\r\n          height: 80px;\r\n          margin-right: 10px;\r\n          cursor: pointer;\r\n          border: 2px solid transparent;\r\n          transition: all 0.3s;\r\n\r\n          &:hover {\r\n            border-color: #409eff;\r\n          }\r\n\r\n          img {\r\n            width: 100%;\r\n            height: 100%;\r\n            object-fit: cover;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .house {\r\n    width: calc(100% - 800px);\r\n\r\n    .house-list {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      margin-block: 30px;\r\n\r\n      .house-item {\r\n        flex: 1 1 400px;\r\n        display: flex;\r\n        gap: 10px;\r\n        padding: 10px;\r\n        box-sizing: border-box;\r\n        cursor: pointer;\r\n\r\n        .name {\r\n          font-size: 18px;\r\n        }\r\n\r\n        img {\r\n          width: 120px;\r\n          height: 80px;\r\n          border-radius: 5px;\r\n        }\r\n\r\n        .point {\r\n          font-size: 12px;\r\n          margin-block: 10px;\r\n          display: flex;\r\n          justify-content: left;\r\n          align-items: center;\r\n          gap: 10px;\r\n          box-sizing: border-box;\r\n\r\n          div {\r\n            background-color: rgb(245, 246, 247);\r\n            padding: 2px 4px;\r\n          }\r\n        }\r\n\r\n        .rent {\r\n          font-size: 22px;\r\n          font-weight: 800;\r\n          color: rgb(222, 88, 78);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .title {\r\n    font-size: 40px;\r\n\r\n    position: sticky;\r\n    top: 0;\r\n    background-color: rgb(255, 255, 255);\r\n    padding: 30px 40px;\r\n  }\r\n}\r\n</style>\r\n"]}]}